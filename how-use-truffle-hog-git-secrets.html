<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How to Use truffleHog and git-secrets - Wendy Segura</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background-color: #f9f9f9;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #222;
    }
    pre {
      background: #f4f4f4;
      padding: 10px;
      overflow-x: auto;
    }
    code {
      background: #f4f4f4;
      padding: 2px 4px;
      font-family: monospace;
    }
    img.heading-image, img.logo-image {
      width: 100%;
      height: auto;
      margin-bottom: 20px;
    }
    img.logo-image {
      width: 200px; 
      display: block; 
      margin: 0 auto 20px auto;
    }
    .original-publication {
      margin-top: 40px;
      padding: 15px;
      border-top: 2px solid #ddd;
      text-align: center;
      font-size: 0.9em;
      color: #555;
    }
    .original-publication a {
      color: #007bff;
      text-decoration: none;
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Sweetcode Logo -->
  <img src="https://raw.githubusercontent.com/wendysegura/wendysegura.github.io/blob/master/images/Sweetcode-gray-shadow.png" alt="Sweetcode Logo" class="logo-image">

  <!-- Heading Image -->
  <img src="https://raw.githubusercontent.com/wendysegura/wendysegura.github.io/blob/master/images/How-to-Use-truffleHog-and-git-secrets.png" alt="truffleHog and git-secrets" class="heading-image">

  <h1>How to Use truffleHog and git-secrets</h1>
  <p><strong>By: Wendy Segura</strong></p>
  <p>Git-secrets is a tool released by AWS Labs that will scan commits and commit messages to find secrets. TruffleHog is a tool that scans the entire commit history for secrets using regex and entropy checks.</p>

  <h2>Installation</h2>
  <h3>Git-secrets</h3>
  <p>Two ways to install:</p>
  <p><strong>1) Git Clone:</strong></p>
  <pre><code>git clone https://github.com/awslabs/git-secrets
cd git-secrets
make install</code></pre>

  <p><strong>2) Homebrew:</strong></p>
  <pre><code>brew install git-secrets</code></pre>

  <h2>Using Git-secrets</h2>
  <pre><code>cd /path/to/my/repo
git secrets --install
git secrets --register-aws

# Scan all files in the repo
git secrets --scan

# Scan history
git secrets --scan-history

# Recursive directory scan
git secrets --scan -r /path/to/directory

# Multiple files
git secrets --scan /path/to/file /path/to/other/file</code></pre>

  <h2>TruffleHog</h2>
  <p>Install with pip:</p>
  <pre><code>pip install truffleHog</code></pre>

  <p>Run against a repository:</p>
  <pre><code>truffleHog --regex --entropy=False /path/to/repo
truffleHog --regex /path/to/repo</code></pre>

  <p>Helpful arguments:</p>
  <pre><code>usage: trufflehog [-h] [--json] [--regex] [--rules RULES] [--entropy DO_ENTROPY] [--since_commit SINCE_COMMIT] [--max_depth MAX_DEPTH]

-h, --help Show help message
--json Output JSON
--regex Enable regex scanning
--rules RULES Ignore default regexes and source from JSON
--entropy DO_ENTROPY Enable entropy checks
--since_commit SINCE_COMMIT Scan from a specific commit hash
--max_depth MAX_DEPTH Max commit depth to search</code></pre>

  <h2>Conclusion</h2>
  <p>Never commit keys or tokens to public repositories. Use git-secrets and truffleHog to ensure your repositories are secure. For further learning, consider using Vault by HashiCorp or Blackbox for secret management.</p>

  <!-- Original Publication -->
  <div class="original-publication">
    <p>
      Original publication: 
      <a href="https://web.archive.org/web/20230922155915/https://sweetcode.io/how-use-truffle-hog-git-secrets" target="_blank" rel="noopener noreferrer">
        View on Sweetcode (Archived)
      </a>
    </p>
  </div>

</div>

</body>
</html>
